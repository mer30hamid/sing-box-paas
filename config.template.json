{
	"log" : {
		"level" : "info"
	},
	"dns" : {
		"servers" : [
            {
                "tag": "dns_proxy",
                "address": "DOH_ADDRESS",
                "address_resolver": "dns_resolver",
                "strategy": "ipv4_only",
                "detour": "direct"
            },
            {
                "tag": "dns_resolver",
                "address": "223.5.5.5",
                "strategy": "ipv4_only",
                "detour": "direct"
            }
		],
		"strategy" : "prefer_ipv4"
	},
	"inbounds" : [
		{
			"type" : "trojan",
			"tag" : "trojan",
			"listen" : "127.0.0.1",
			"listen_port" : 30000,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"password" : "UUID"
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-tr",
				"type" : "ws"
			}
		},
		{
			"type" : "vless",
			"tag" : "vless",
			"listen" : "127.0.0.1",
			"listen_port" : 20000,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"name" : "abbas",
					"uuid" : "UUID",
					"flow" : ""
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-vl",
				"type" : "ws"
			}
		},
		{
			"type" : "vmess",
			"tag" : "vmess",
			"listen" : "127.0.0.1",
			"listen_port" : 10000,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"name" : "abbas",
					"uuid" : "UUID"
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-vm",
				"type" : "ws"
			}
		},
		{
			"type" : "trojan",
			"tag" : "trojan-warp",
			"listen" : "127.0.0.1",
			"listen_port" : 30001,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"password" : "UUID"
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-tr/warp",
				"type" : "ws"
			}
		},
		{
			"type" : "vless",
			"tag" : "vless-warp",
			"listen" : "127.0.0.1",
			"listen_port" : 20001,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"name" : "abbas",
					"uuid" : "UUID",
					"flow" : ""
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-vl/warp",
				"type" : "ws"
			}
		},
		{
			"type" : "vmess",
			"tag" : "vmess-warp",
			"listen" : "127.0.0.1",
			"listen_port" : 10001,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"name" : "abbas",
					"uuid" : "UUID"
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-vm/warp",
				"type" : "ws"
			}
		},
		{
			"type" : "trojan",
			"tag" : "trojan-proxy",
			"listen" : "127.0.0.1",
			"listen_port" : 30002,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"password" : "UUID"
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-tr/proxy",
				"type" : "ws"
			}
		},
		{
			"type" : "vless",
			"tag" : "vless-proxy",
			"listen" : "127.0.0.1",
			"listen_port" : 20002,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"name" : "abbas",
					"uuid" : "UUID",
					"flow" : ""
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-vl/proxy",
				"type" : "ws"
			}
		},
		{
			"type" : "vmess",
			"tag" : "vmess-proxy",
			"listen" : "127.0.0.1",
			"listen_port" : 10002,
			"sniff" : true,
			"sniff_override_destination" : true,
			"users" : [
				{
					"name" : "abbas",
					"uuid" : "UUID"
				}
			],
			"tls" : {
				"enabled" : false
			},
			"transport" : {
				"path" : "/UUID-vm/proxy",
				"type" : "ws"
			}
		}
	],
	"outbounds" : [
		{
			"tag" : "direct",
			"type" : "direct"
		},
		{
			"tag" : "bypass",
			"type" : "direct"
		},
		{
			"tag" : "block",
			"type" : "block"
		},
		{
			"tag" : "dns-out",
			"type" : "dns"
		},
		{
			"type" : "wireguard",
			"tag" : "warp-out",
			"server" : "WARPSERVER",
			"server_port" : WARPPORT,
			"local_address" : [ "172.16.0.2/32" ],
			"private_key" : "WARPKEY",
			"peer_public_key" : "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
			"mtu" : 1280,
			"tcp_fast_open" : true
		}XXXOUTBOUNDXXX
	],
	"route" : {
		"auto_detect_interface" : false,
		"geoip" : {
			"path" : "/geoip.db"
		},
		"geosite" : {
			"path" : "/geosite.db"
		},
		"rules" : [
			{
				"outbound" : "dns-out",
				"protocol" : "dns"
			},
			{
				"network" : "udp",
				"outbound" : "block",
				"port" : [ 135, 137, 138, 139, 5353 ]
			},
			{
				"ip_cidr" : [ "224.0.0.0/3", "ff00::/8" ],
				"outbound" : "block"
			},
			{
				"outbound" : "block",
				"source_ip_cidr" : [ "224.0.0.0/3", "ff00::/8" ]
			},
			{
				"geoip" : [ "cn", "ir", "private" ],
				"outbound" : "block"
			},
			{
				"ip_cidr" : [
					"0.0.0.0/8",
					"10.0.0.0/8",
					"100.64.0.0/10",
					"127.0.0.0/8",
					"169.254.0.0/16",
					"172.16.0.0/12",
					"192.0.0.0/24",
					"192.0.2.0/24",
					"192.168.0.0/16",
					"198.18.0.0/15",
					"198.51.100.0/24",
					"203.0.113.0/24",
					"::1/128",
					"fc00::/7",
					"fe80::/10"
				],
				"outbound" : "block"
			},
			{
				"inbound" : [ "vmess", "vless", "trojan" ],
				"outbound" : "direct"
			},
            {
				"inbound" : [ "vmess-warp", "vless-warp", "trojan-warp" ],
				"outbound" : "warp-out"
			},
            {
				"inbound" : [ "vmess-proxy", "vless-proxy", "trojan-proxy" ],
				"outbound" : "proxy"
			}
		]
	}
}
